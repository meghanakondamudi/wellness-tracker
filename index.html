<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Wellness Tracker</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
    :root {
        --bg-white: #ffffff;
        --bg-gray: #f7f7f7;
        --border-gray: #e0e0e0;
        --text-dark: #222222;
        --text-medium: #444444;
        --text-light: #666666;
        --accent-color: #000000;
        --hover-color: #f0f0f0;
        --active-color: #e0e0e0;
    }
    
    body {
        font-family: 'Inter', sans-serif;
        background-color: var(--bg-white);
        color: var(--text-dark);
        margin: 0;
        padding: 0;
        line-height: 1.6;
        font-size: 15px;
    }
    
    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
    }
    
    header {
        background-color: var(--bg-white);
        padding: 30px 0;
        margin-bottom: 20px;
        text-align: center;
        border-bottom: 1px solid var(--border-gray);
    }
    
    h1, h2, h3, h4 {
        font-weight: 600;
        color: var(--text-dark);
    }
    
    h1 {
        margin: 0;
        font-size: 2em;
        letter-spacing: -0.5px;
    }
    
    h2 {
        border-bottom: 1px solid var(--border-gray);
        padding-bottom: 8px;
        margin-top: 0;
        font-size: 1.5em;
    }
    
    h3 {
        font-size: 1.2em;
    }
    
    /* Tabs */
    .tabs {
        display: flex;
        flex-wrap: wrap;
        background-color: var(--bg-white);
        margin-bottom: 20px;
        border-bottom: 1px solid var(--border-gray);
        gap: 4px;
    }
    
    .tab-btn {
        flex: 1 0 auto;
        padding: 10px 12px;
        text-align: center;
        background-color: transparent;
        border: none;
        cursor: pointer;
        font-size: 0.85em;
        font-weight: 500;
        color: var(--text-light);
        transition: all 0.2s ease;
        position: relative;
        white-space: nowrap;
        min-width: 60px;
    }
    
    .tab-btn:hover {
        background-color: var(--hover-color);
    }
    
    .tab-btn.active {
        color: var(--text-dark);
        font-weight: 600;
        background-color: var(--active-color);
    }
    
    .tab-btn.active::after {
        content: "";
        position: absolute;
        bottom: -1px;
        left: 0;
        width: 100%;
        height: 2px;
        background: var(--accent-color);
    }
    
    .tab-content {
        display: none;
        padding: 20px 0;
    }
    
    .tab-content.active {
        display: block;
        animation: fadeIn 0.3s ease;
    }
    
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(8px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    /* Grid and Cards */
    .grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 16px;
        margin-bottom: 20px;
    }
    
    .card {
        background-color: var(--bg-white);
        border-radius: 6px;
        padding: 20px;
        box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        transition: all 0.2s ease;
        border: 1px solid var(--border-gray);
    }
    
    /* Mood Boost Cards */
    .mood-card {
        background: var(--bg-white);
        border-radius: 6px;
        padding: 20px;
        margin-bottom: 20px;
        border: 1px solid var(--border-gray);
        transition: transform 0.2s ease;
    }
    
    .mood-card:hover {
        transform: translateY(-2px);
    }
    
    .subtitle {
        color: var(--text-light);
        margin-bottom: 20px;
    }
    
    /* Buttons */
    .btn {
        background-color: var(--bg-white);
        color: var(--text-dark);
        border: 1px solid var(--border-gray);
        padding: 10px 16px;
        border-radius: 6px;
        cursor: pointer;
        font-weight: 500;
        transition: all 0.2s ease;
        margin: 8px 5px;
        font-size: 0.9em;
        display: inline-flex;
        align-items: center;
        justify-content: center;
    }
    
    .btn:hover {
        background-color: var(--hover-color);
    }
    
    /* Form Elements */
    input, select, textarea {
        width: 100%;
        padding: 10px;
        border: 1px solid var(--border-gray);
        border-radius: 6px;
        font-family: inherit;
        font-size: 0.95em;
        margin-bottom: 15px;
        box-sizing: border-box;
        background-color: var(--bg-white);
    }
    
    /* Sliders */
    .slider-container {
        margin: 15px 0;
    }
    
    input[type="range"] {
        -webkit-appearance: none;
        width: 100%;
        height: 6px;
        border-radius: 3px;
        background: var(--border-gray);
        outline: none;
    }
    
    input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: var(--accent-color);
        cursor: pointer;
    }
    
    /* Mobile Adjustments */
    @media (max-width: 768px) {
        .container {
            padding: 15px;
        }
        
        .grid {
            grid-template-columns: 1fr;
        }
        
        .tab-btn {
            padding: 8px 6px;
            font-size: 0.8em;
            min-width: 50px;
        }
    }
        .breath-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 20px;
        margin-top: 20px;
    }
    
    .breath-animation {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        background-color: #e0e0e0;
        margin: 0 auto;
        transition: all 4s ease-in-out;
    }
    
    .breath-instructions {
        text-align: center;
    }
    
    #breath-timer {
        font-size: 2em;
        margin: 10px 0;
    }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Wellness Tracker</h1>
        </header>
        
        <div class="tabs">
            <button class="tab-btn active" onclick="openTab(event, 'dashboard')">Dashboard</button>
            <button class="tab-btn" onclick="openTab(event, 'health-info')">Health Info</button>
            <button class="tab-btn" onclick="openTab(event, 'daily-tracker')">Daily Tracker</button>
            <button class="tab-btn" onclick="openTab(event, 'analytics')">Analytics</button>
            <button class="tab-btn" onclick="openTab(event, 'low-mood')">Mood Boost</button>
            <button class="tab-btn" onclick="openTab(event, 'recommendations')">Recommendations</button>
        </div>
        
        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content active">
            <h2>Your Wellness Dashboard</h2>
            
            <div class="grid">
                <div class="card">
                    <h3>Today's Quick Log</h3>
                    <label for="mood">Mood (1-10):</label>
                    <input type="range" id="mood" min="1" max="10" value="5">
                    <span id="mood-value">5</span>
                    
                    <label for="energy">Energy Level (1-10):</label>
                    <input type="range" id="energy" min="1" max="10" value="5">
                    <span id="energy-value">5</span>
                    
                    <label for="water">Water Intake (glasses):</label>
                    <input type="number" id="water" min="0" max="15" value="8">
                    
                    <button class="btn" onclick="saveQuickLog()">Save Today's Data</button>
                </div>
                
                <div class="card">
                    <h3>Quick Stats</h3>
                    <p><strong>Average Mood:</strong> <span id="avg-mood">-</span>/10</p>
                    <p><strong>Average Energy:</strong> <span id="avg-energy">-</span>/10</p>
                    <p><strong>Avg Water Intake:</strong> <span id="avg-water">-</span> glasses</p>
                    <p><strong>Iron-Rich Days:</strong> <span id="iron-days">-</span>/28</p>
                    <p><strong>PCOS-Friendly Days:</strong> <span id="pcos-days">-</span>/28</p>
                </div>
                
                <div class="card">
                    <h3>Quick Links</h3>
                    <button class="btn" onclick="openTab(event, 'daily-tracker')">Daily Tracker</button>
                    <button class="btn" onclick="openTab(event, 'low-mood')">Low Mood Help</button>
                    <button class="btn" onclick="openTab(event, 'recommendations')">Get Recommendations</button>
                    <button class="btn" onclick="showAllData()">View All Data</button>
                </div>
            </div>
            
            <div class="card">
                <h3>Recent Notes</h3>
                <div id="recent-notes"></div>
            </div>
        </div>
        
        <!-- Health Info Tab -->
        <div id="health-info" class="tab-content">
            <h2>Health Information Hub</h2>
            
            <div class="grid">
                <div class="card">
                    <h3>Low Hemoglobin Info</h3>
                    <p><strong>What is it?</strong> Fewer red blood cells or low hemoglobin levels leading to anemia.</p>
                    <p><strong>Symptoms:</strong> Fatigue, weakness, pale skin, shortness of breath.</p>
                    <p><strong>Causes:</strong> Iron deficiency, vitamin deficiencies, chronic disease.</p>
                    <button class="btn" onclick="showMore('hb-info')">Show More</button>
                    <div id="hb-info" style="display:none;">
                        <p><strong>Tests:</strong> CBC, Iron studies (ferritin, TIBC), B12, Folate.</p>
                        <p><strong>Risks if untreated:</strong> Heart problems, pregnancy complications.</p>
                    </div>
                </div>
                
                <div class="card">
                    <h3>PCOS Info</h3>
                    <p><strong>What is PCOS?</strong> Hormonal disorder with irregular ovulation and excess androgens.</p>
                    <p><strong>Symptoms:</strong> Irregular periods, acne, hair thinning, weight gain.</p>
                    <p><strong>Causes:</strong> Insulin resistance, inflammation, genetics.</p>
                    <button class="btn" onclick="showMore('pcos-info')">Show More</button>
                    <div id="pcos-info" style="display:none;">
                        <p><strong>Tests:</strong> Testosterone, LH & FSH, fasting insulin, ultrasound.</p>
                        <p><strong>Risks:</strong> Type 2 diabetes, high cholesterol, infertility.</p>
                    </div>
                </div>
                
                <div class="card">
                    <h3>Foods & Benefits</h3>
                    <ul>
                        <li><strong>Spinach:</strong> High in iron</li>
                        <li><strong>Lentils:</strong> Iron + protein</li>
                        <li><strong>Pumpkin seeds:</strong> Iron + zinc</li>
                        <li><strong>Fatty fish:</strong> Omega-3s</li>
                    </ul>
                    <button class="btn" onclick="showMore('food-info')">Show More</button>
                    <div id="food-info" style="display:none;">
                        <ul>
                            <li><strong>Eggs:</strong> Protein + B12</li>
                            <li><strong>Berries:</strong> Antioxidants</li>
                            <li><strong>Oats:</strong> Low GI</li>
                            <li><strong>Quinoa:</strong> Protein + fiber</li>
                        </ul>
                    </div>
                </div>
                
                <div class="card">
                    <h3>Supplements Guide</h3>
                    <ul>
                        <li><strong>Iron:</strong> Raises hemoglobin</li>
                        <li><strong>Vitamin B12:</strong> Red blood cells</li>
                        <li><strong>Inositol:</strong> Insulin sensitivity</li>
                        <li><strong>Omega-3:</strong> Anti-inflammatory</li>
                    </ul>
                    <button class="btn" onclick="showMore('supp-info')">Show More</button>
                    <div id="supp-info" style="display:none;">
                        <ul>
                            <li><strong>Folic Acid:</strong> Supports Hb</li>
                            <li><strong>Vitamin D:</strong> Mood + immunity</li>
                            <li><strong>Magnesium:</strong> Reduces stress</li>
                            <li><strong>Zinc:</strong> Immune + hormones</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Daily Tracker Tab -->
        <div id="daily-tracker" class="tab-content">
            <h2>Daily Wellness Tracker</h2>
            
            <div class="card">
                <label for="tracker-date">Select Date:</label>
                <input type="date" id="tracker-date">
                
                <div class="grid">
                    <div>
                        <label for="day-mood">Mood (1-10):</label>
                        <input type="range" id="day-mood" min="1" max="10" value="5">
                        <span id="day-mood-value">5</span>
                        
                        <label for="day-energy">Energy Level (1-10):</label>
                        <input type="range" id="day-energy" min="1" max="10" value="5">
                        <span id="day-energy-value">5</span>
                        
                        <label for="symptoms">Symptoms Noticed:</label>
                        <textarea id="symptoms" rows="3"></textarea>
                        
                        <label>Period Today?</label>
                        <select id="period">
                            <option value="">Select</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="meals">Meals Taken:</label>
                        <input type="text" id="meals">
                        
                        <label>Iron-Rich Food Today?</label>
                        <select id="iron-food">
                            <option value="">Select</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                        
                        <label>PCOS-Friendly Food Today?</label>
                        <select id="pcos-food">
                            <option value="">Select</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                        
                        <label for="supplements">Supplements Taken:</label>
                        <input type="text" id="supplements">
                    </div>
                    
                    <div>
                        <label for="exercise">Exercise Done:</label>
                        <input type="text" id="exercise">
                        
                        <label for="wellness">Wellness Activity:</label>
                        <select id="wellness">
                            <option value="">Select</option>
                            <option>Journaling</option>
                            <option>Warm bath</option>
                            <option>Long walks in nature</option>
                            <option>Phone calls with loved ones</option>
                            <option>Deep breathing</option>
                            <option>Listening to music</option>
                            <option>Stretching/Yoga</option>
                            <option>Reading a comforting book</option>
                            <option>Spending time in sunlight</option>
                            <option>Digital detox</option>
                        </select>
                        
                        <label for="day-water">Water Intake (glasses):</label>
                        <input type="number" id="day-water" min="0" max="15" value="8">
                        
                        <label for="notes">Notes/Reflections:</label>
                        <textarea id="notes" rows="3"></textarea>
                    </div>
                </div>
                
                <button class="btn" onclick="saveDailyEntry()">Save Daily Entry</button>
            </div>
        </div>
        
        <!-- Analytics Tab -->
        <div id="analytics" class="tab-content">
            <h2>Your Progress Analytics</h2>
            
            <div class="card">
                <h3>Mood and Energy Trends</h3>
                <canvas id="moodChart" height="200"></canvas>
            </div>
            
            <div class="grid">
                <div class="card">
                    <h3>Water Intake</h3>
                    <canvas id="waterChart" height="200"></canvas>
                </div>
                
                <div class="card">
                    <h3>Food Compliance</h3>
                    <canvas id="foodChart" height="200"></canvas>
                </div>
            </div>
            
            <div class="card">
                <h3>Wellness Activities</h3>
                <canvas id="wellnessChart" height="200"></canvas>
            </div>
        </div>
        
        <!-- Low Mood Tab -->
        <div id="low-mood" class="tab-content">
            <h2>Mood Boosters</h2>
            <p class="subtitle">When you're feeling down, try one of these uplifting activities:</p>
            
            <!-- Music Card -->
            <div class="mood-card">
                <h3>Listen to Uplifting Playlists</h3>
                <p>Music can instantly boost your mood. Try these curated playlists:</p>
                <div class="grid">
                    <div class="card">
                        <h4>Chill Vibes</h4>
                        <p>Relaxing tunes to calm your mind</p>
                        <button class="btn" onclick="window.open('https://open.spotify.com/playlist/37i9dQZF1DX4WYpdgoIcn6')">Open Playlist</button>
                    </div>
                    <div class="card">
                        <h4>Happy Beats</h4>
                        <p>Upbeat songs to lift your spirits</p>
                        <button class="btn" onclick="window.open('https://open.spotify.com/playlist/37i9dQZF1DXdPec7aLTmlC')">Open Playlist</button>
                    </div>
                </div>
            </div>

            <div class="mood-card">
    <h3>Guided Meditation</h3>
    <p>Take 5 minutes to calm your mind:</p>
    <div class="grid">
        <div class="card">
            <h4>Quick Calm</h4>
            <p>5-minute anxiety relief</p>
            <button class="btn" onclick="window.open('https://www.youtube.com/watch?v=inpok4MKVLM')">Listen</button>
        </div>
        <div class="card">
            <h4>Body Scan</h4>
            <p>Release tension</p>
            <button class="btn" onclick="window.open('https://www.youtube.com/watch?v=IHF1ID1cd-0')">Listen</button>
        </div>
    </div>
</div>

<div class="mood-card">
    <h3>Breathing Exercise</h3>
    <p>Follow this pattern to regulate your nervous system:</p>
    <div class="breath-container">
        <div class="breath-animation" id="breath-circle"></div>
        <div class="breath-instructions">
            <p id="breath-text">Breathe in... (4 seconds)</p>
            <p id="breath-timer">4</p>
            <button class="btn" id="breath-btn" onclick="startBreathing()">Start Breathing Exercise</button>
        </div>
    </div>


            <!-- Journaling Card -->
            <div class="mood-card">
                <h3>Journal Your Thoughts</h3>
                <p>Writing down your feelings can help process them:</p>
                <textarea class="journal-entry" placeholder="How are you feeling today? What's on your mind?..."></textarea>
                <div class="btn-group">
                    <button class="btn" onclick="saveJournalEntry()">Save Entry</button>
                    <button class="btn" onclick="clearJournalEntry()">Clear</button>
                </div>
            </div>

            <!-- Games Card -->
            <div class="mood-card">
                <h3>Play a Quick Game</h3>
                <p>Distract yourself with something fun:</p>
                <div class="grid">
                    <button class="btn" onclick="window.open('https://www.nytimes.com/games/wordle')">Wordle</button>
                    <button class="btn" onclick="window.open('https://www.nytimes.com/games/sudoku')">Sudoku</button>
                    <button class="btn" onclick="window.open('https://play2048.co')">2048</button>
                    <button class="btn" onclick="window.open('https://skribbl.io')">Skribbl.io</button>
                    <button class="btn" onclick="window.open('https://quickdraw.withgoogle.com/')">Quick, draw!</button>
                    
                </div>
            </div>
        </div>
        
        <!-- Recommendations Tab -->
        <div id="recommendations" class="tab-content">
            <h2>Personalized Recommendations</h2>
            
            <div class="card">
                <h3>Based on your data:</h3>
                <div id="personal-recs">
                    <p>Complete some tracking data to get personalized recommendations.</p>
                </div>
            </div>
            
            <div class="grid">
                <div class="card">
                    <h3>For Low Energy</h3>
                    <ul>
                        <li>Try iron-rich foods like spinach and lentils</li>
                        <li>Consider Vitamin B12 supplements</li>
                        <li>Short walks in sunlight can boost energy</li>
                        <li>Stay hydrated - aim for 8+ glasses of water</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h3>For PCOS Symptoms</h3>
                    <ul>
                        <li>Focus on PCOS-friendly foods like fatty fish</li>
                        <li>Try Inositol supplements</li>
                        <li>Gentle yoga can help with symptoms</li>
                        <li>Manage stress with journaling or meditation</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h3>For Low Mood</h3>
                    <ul>
                        <li>Engage in favorite wellness activities</li>
                        <li>Connect with friends or loved ones</li>
                        <li>Try the "Mood Boost" tab</li>
                        <li>Consider Vitamin D supplements</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
<script>
// Initialize variables
let trackerData = [];
let moodChart = null;
let waterChart = null;
let foodChart = null;
let wellnessChart = null;
let breathInterval;
let breathPhase = 'in';
let breathCount = 4;

// Initialize with sample data
function initializeData() {
    if (localStorage.getItem('wellnessTracker')) {
        trackerData = JSON.parse(localStorage.getItem('wellnessTracker'));
    } else {
        // Create sample data for the past 7 days
        const today = new Date();
        for (let i = 6; i >= 0; i--) {
            const date = new Date();
            date.setDate(today.getDate() - i);
            
            trackerData.push({
                date: date.toISOString().split('T')[0],
                day: `Day ${7-i}`,
                mood: Math.floor(Math.random() * 4) + 5,
                energy: Math.floor(Math.random() * 4) + 4,
                water: Math.floor(Math.random() * 4) + 6,
                ironFood: i % 2 === 0 ? "Yes" : "No",
                pcosFood: i % 3 === 0 ? "No" : "Yes",
                notes: i % 2 === 0 ? "Had a good day" : "Felt tired in afternoon"
            });
        }
        saveData();
    }
    updateDashboard();
    updateCharts();
}

// Save data to localStorage
function saveData() {
    localStorage.setItem('wellnessTracker', JSON.stringify(trackerData));
}

// Tab navigation
function openTab(evt, tabName) {
    const tabContents = document.getElementsByClassName("tab-content");
    for (let i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }
    
    const tabButtons = document.getElementsByClassName("tab-btn");
    for (let i = 0; i < tabButtons.length; i++) {
        tabButtons[i].classList.remove("active");
    }
    
    document.getElementById(tabName).classList.add("active");
    evt.currentTarget.classList.add("active");
    
    if (tabName === 'analytics') {
        updateCharts();
    } else if (tabName === 'recommendations') {
        generateRecommendations();
    }
}

// Update dashboard with latest data
function updateDashboard() {
    if (trackerData.length > 0) {
        // Calculate averages
        const moods = trackerData.map(entry => entry.mood).filter(val => val);
        const energies = trackerData.map(entry => entry.energy).filter(val => val);
        const waters = trackerData.map(entry => entry.water).filter(val => val);
        const ironDays = trackerData.filter(entry => entry.ironFood === "Yes").length;
        const pcosDays = trackerData.filter(entry => entry.pcosFood === "Yes").length;
        
        document.getElementById('avg-mood').textContent = 
            moods.length > 0 ? (moods.reduce((a,b) => a + b, 0) / moods.length).toFixed(1) : '-';
        document.getElementById('avg-energy').textContent = 
            energies.length > 0 ? (energies.reduce((a,b) => a + b, 0) / energies.length).toFixed(1) : '-';
        document.getElementById('avg-water').textContent = 
            waters.length > 0 ? (waters.reduce((a,b) => a + b, 0) / waters.length).toFixed(1) : '-';
        document.getElementById('iron-days').textContent = ironDays;
        document.getElementById('pcos-days').textContent = pcosDays;
        
        // Show recent notes
        const recentNotes = trackerData.slice(-3).reverse();
        let notesHtml = '';
        recentNotes.forEach(entry => {
            notesHtml += `<p><strong>${entry.day}:</strong> ${entry.notes || 'No notes'}</p>`;
        });
        document.getElementById('recent-notes').innerHTML = notesHtml;
    }
}

// Breathing Exercise Functions
function startBreathing() {
    const btn = document.getElementById('breath-btn');
    const circle = document.getElementById('breath-circle');
    
    if (btn.textContent === 'Start Breathing Exercise') {
        btn.textContent = 'Stop Exercise';
        breathPhase = 'in';
        breathCount = 4;
        circle.style.transform = 'scale(1.2)';
        circle.style.backgroundColor = '#a0d8f3';
        updateBreathDisplay();
        breathInterval = setInterval(breathTimer, 1000);
    } else {
        stopBreathing();
    }
}

function stopBreathing() {
    const btn = document.getElementById('breath-btn');
    const circle = document.getElementById('breath-circle');
    
    btn.textContent = 'Start Breathing Exercise';
    clearInterval(breathInterval);
    document.getElementById('breath-text').textContent = 'Breathe in... (4 seconds)';
    document.getElementById('breath-timer').textContent = '4';
    circle.style.transform = 'scale(1)';
    circle.style.backgroundColor = '#e0e0e0';
}

function breathTimer() {
    const circle = document.getElementById('breath-circle');
    breathCount--;
    
    if (breathCount <= 0) {
        switch (breathPhase) {
            case 'in':
                breathPhase = 'hold';
                breathCount = 4;
                document.getElementById('breath-text').textContent = 'Hold... (4 seconds)';
                circle.style.backgroundColor = '#f3a0a0';
                break;
            case 'hold':
                breathPhase = 'out';
                breathCount = 6;
                document.getElementById('breath-text').textContent = 'Breathe out... (6 seconds)';
                circle.style.transform = 'scale(1)';
                circle.style.backgroundColor = '#a0f3c8';
                break;
            case 'out':
                breathPhase = 'in';
                breathCount = 4;
                document.getElementById('breath-text').textContent = 'Breathe in... (4 seconds)';
                circle.style.transform = 'scale(1.2)';
                circle.style.backgroundColor = '#a0d8f3';
                break;
        }
    }
    document.getElementById('breath-timer').textContent = breathCount;
}

function updateBreathDisplay() {
    document.getElementById('breath-timer').textContent = breathCount;
}

// Chart Handling Functions
function updateCharts() {
    if (trackerData.length === 0) return;
    
    // Sort data by date
    const sortedData = [...trackerData].sort((a,b) => new Date(a.date) - new Date(b.date));
    const labels = sortedData.map(entry => entry.day);
    
    // Mood and Energy Chart
    const moodCtx = document.getElementById('moodChart').getContext('2d');
    if (moodChart) moodChart.destroy();
    moodChart = new Chart(moodCtx, {
        type: 'line',
        data: {
            labels: labels,
            datasets: [
                {
                    label: 'Mood (1-10)',
                    data: sortedData.map(entry => entry.mood),
                    borderColor: '#888',
                    backgroundColor: 'rgba(200, 200, 200, 0.1)',
                    tension: 0.3,
                    fill: true
                },
                {
                    label: 'Energy (1-10)',
                    data: sortedData.map(entry => entry.energy),
                    borderColor: '#555',
                    backgroundColor: 'rgba(150, 150, 150, 0.1)',
                    tension: 0.3,
                    fill: true
                }
            ]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: false,
                    min: 1,
                    max: 10
                }
            }
        }
    });
    
    // Water Intake Chart
    const waterCtx = document.getElementById('waterChart').getContext('2d');
    if (waterChart) waterChart.destroy();
    waterChart = new Chart(waterCtx, {
        type: 'bar',
        data: {
            labels: labels,
            datasets: [{
                label: 'Water (glasses)',
                data: sortedData.map(entry => entry.water),
                backgroundColor: 'rgba(150, 150, 150, 0.7)',
                borderColor: 'rgba(100, 100, 100, 1)',
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true,
                    max: 15
                }
            }
        }
    });
    
    // Food Compliance Chart
    const foodCtx = document.getElementById('foodChart').getContext('2d');
    if (foodChart) foodChart.destroy();
    foodChart = new Chart(foodCtx, {
        type: 'doughnut',
        data: {
            labels: ['Iron-Rich Days', 'PCOS-Friendly Days', 'Other Days'],
            datasets: [{
                data: [
                    sortedData.filter(entry => entry.ironFood === 'Yes').length,
                    sortedData.filter(entry => entry.pcosFood === 'Yes').length,
                    sortedData.filter(entry => entry.ironFood !== 'Yes' && entry.pcosFood !== 'Yes').length
                ],
                backgroundColor: [
                    '#aaa',
                    '#ddd',
                    '#888'
                ]
            }]
        },
        options: {
            responsive: true
        }
    });
    
    // Wellness Activities Chart
    const wellnessCounts = {};
    sortedData.forEach(entry => {
        if (entry.wellness) {
            wellnessCounts[entry.wellness] = (wellnessCounts[entry.wellness] || 0) + 1;
        }
    });
    
    const wellnessCtx = document.getElementById('wellnessChart').getContext('2d');
    if (wellnessChart) wellnessChart.destroy();
    wellnessChart = new Chart(wellnessCtx, {
        type: 'polarArea',
        data: {
            labels: Object.keys(wellnessCounts),
            datasets: [{
                data: Object.values(wellnessCounts),
                backgroundColor: [
                    '#f0f0f0', '#e0e0e0', '#d0d0d0', '#c0c0c0', 
                    '#b0b0b0', '#a0a0a0', '#909090', '#808080'
                ]
            }]
        },
        options: {
            responsive: true
        }
    });
}

// Initialize the app
window.onload = function() {
    initializeData();
    
    // Set today's date as default in tracker
    document.getElementById('tracker-date').value = new Date().toISOString().split('T')[0];
    
    // Initialize slider value displays
    document.getElementById('mood').addEventListener('input', function() {
        document.getElementById('mood-value').textContent = this.value;
    });
    
    document.getElementById('energy').addEventListener('input', function() {
        document.getElementById('energy-value').textContent = this.value;
    });
    
    document.getElementById('day-mood').addEventListener('input', function() {
        document.getElementById('day-mood-value').textContent = this.value;
    });
    
    document.getElementById('day-energy').addEventListener('input', function() {
        document.getElementById('day-energy-value').textContent = this.value;
    });
};
</script>
</body>
</html>
